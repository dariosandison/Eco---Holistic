(function(){function b(u,p,t){try{var a=new URL(u);if(p&&t)a.searchParams.set(p,t);return a.toString()}catch(e){return u}}function d(){document.querySelectorAll('a[data-affiliate-base]').forEach(function(a){var u=a.getAttribute('data-affiliate-base');var p=a.getAttribute('data-affiliate-param')||'affid';var t=a.getAttribute('data-affiliate-tag')||'';a.setAttribute('href', b(u,p,t));a.setAttribute('rel','sponsored noopener noreferrer');});}document.addEventListener('DOMContentLoaded', d);window.__affiliate={buildAffiliateUrl:b};})();