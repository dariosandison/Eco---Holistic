(function(){function t(c){var d=c.getAttribute('data-products');if(!d) return;try{d=JSON.parse(d);}catch(e){return;}var table=document.createElement('table');table.className='comparison-table';var thead=document.createElement('thead');var tbody=document.createElement('tbody');table.appendChild(thead);table.appendChild(tbody);var headers=['Product','Price','Pros','Cons','Rating','Buy'];var trh=document.createElement('tr');headers.forEach(function(h){var th=document.createElement('th');th.textContent=h;trh.appendChild(th);});thead.appendChild(trh);d.forEach(function(p){var tr=document.createElement('tr');function td(v){var e=document.createElement('td');e.textContent=v; e.style.border='1px solid #e5e5e5'; e.style.padding='12px'; return e;}var name=document.createElement('td');name.innerHTML='<strong>'+p.name+'</strong>'+(p.brand?'<div class="comparison-badge">'+p.brand+'</div>':'');name.style.border='1px solid #e5e5e5';name.style.padding='12px';tr.appendChild(name);tr.appendChild(td((p.currency||'')+' '+(p.price||'')));tr.appendChild(td((p.pros||[]).join(', ')));tr.appendChild(td((p.cons||[]).join(', ')));tr.appendChild(td((p.rating||'')+' ('+(p.reviewCount||0)+')'));var buy=document.createElement('td');var a=document.createElement('a');a.textContent='Check price';a.setAttribute('data-affiliate-base',(p.affiliate&&p.affiliate.baseUrl)||'#');a.setAttribute('data-affiliate-param',(p.affiliate&&p.affiliate.param)||'affid');a.setAttribute('data-affiliate-tag',(p.affiliate&&p.affiliate.tag)||'');a.href='#';buy.appendChild(a);buy.style.border='1px solid #e5e5e5';buy.style.padding='12px';tr.appendChild(buy);tbody.appendChild(tr);});c.innerHTML='';c.appendChild(table);}function i(){document.querySelectorAll('[data-component="comparison-table"]').forEach(t);}document.addEventListener('DOMContentLoaded', i);})();